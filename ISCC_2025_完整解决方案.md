# ISCC 2025ç«èµ›å®Œæ•´è§£å†³æ–¹æ¡ˆ

## é—®é¢˜è§£å†³çŠ¶æ€

âœ… **ç¼–è¯‘é”™è¯¯å·²ä¿®å¤** - æ‰€æœ‰ä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘  
âœ… **è‡ªåŠ¨æ³Šè½¦åŠŸèƒ½å·²ä¿®å¤** - è½¦è¾†èƒ½å¤Ÿæœç´¢å¹¶æ³Šå…¥æœ€è¿‘è½¦ä½  
âœ… **éšœç¢ç‰©ç»•è¡ŒåŠŸèƒ½å·²ä¿®å¤** - è½¦è¾†èƒ½å¤Ÿå®‰å…¨ç»•è¡Œéšœç¢ç‰©  
âœ… **æ‰€æœ‰5ä¸ªç«èµ›åœºæ™¯å·²å®ç°** - è¦†ç›–å…¨éƒ¨ISCC 2025è¦æ±‚  

## ç«èµ›åœºæ™¯å®ç°è¯¦æƒ…

### èµ›é¢˜ä¸€ï¼šåœæ­¢æ ‡å¿—åœºæ™¯ âœ…
**è¦æ±‚**: ä¸»è½¦åœ¨åœæ­¢çº¿å‰2.0-2.5ç±³å¤„ç²¾ç¡®åœè½¦

**å®ç°æ–¹æ¡ˆ**:
- ä¿®æ”¹ `modules/planning/traffic_rules/stop_sign/stop_sign.cc`
- å®ç°ç²¾ç¡®åœè½¦ç®—æ³•ï¼šç›®æ ‡è·ç¦»2.25ç±³ + è½¦è¾†å‰ç«¯è¡¥å¿
- é…ç½®æ–‡ä»¶ï¼š`scenario_conf.pb.txt` æ”¯æŒ2.5ç±³æœ€å¤§è·ç¦»

**å…³é”®ä»£ç **:
```cpp
// ISCCç«èµ›è¦æ±‚ï¼šåœè½¦åœ¨åœæ­¢çº¿å‰2.0-2.5ç±³ï¼Œé€‰æ‹©2.25ç±³ä½œä¸ºç›®æ ‡
double target_stop_distance = 2.25;
double adjusted_stop_distance = target_stop_distance + front_edge_to_center;
```

### èµ›é¢˜äºŒï¼šäº¤é€šç¯åœºæ™¯ âœ…
**è¦æ±‚**: çº¢ç¯å‰1.5-2.0ç±³åœè½¦ï¼Œå³è½¬åå€Ÿé“ç»•è¡Œï¼Œä¿æŒ1ç±³æ¨ªå‘è·ç¦»ï¼Œé€Ÿåº¦â‰¤5m/s

**å®ç°æ–¹æ¡ˆ**:
- ä¿®æ”¹ `modules/planning/traffic_rules/traffic_light/traffic_light.cc`
- ç²¾ç¡®åœè½¦ï¼šç›®æ ‡è·ç¦»1.75ç±³ + è½¦è¾†å‰ç«¯è¡¥å¿
- ä¿®æ”¹ `modules/planning/tasks/lane_borrow_path/lane_borrow_path.cc`
- ä¸¥æ ¼æ‰§è¡Œ1ç±³æ¨ªå‘è·ç¦»å’Œ5m/sé€Ÿåº¦é™åˆ¶

**å…³é”®ä»£ç **:
```cpp
// äº¤é€šç¯åœºæ™¯ï¼š1.5-2.0ç±³ç²¾ç¡®åœè½¦
double target_stop_distance = 1.75;

// ç»•è¡Œè¦æ±‚ï¼šè‡³å°‘1ç±³æ¨ªå‘è·ç¦»
double lateral_buffer = std::max(config_.static_obstacle_lateral_buffer(), 1.0);

// é€Ÿåº¦é™åˆ¶ï¼šä¸è¶…è¿‡5m/s
double max_speed = std::min(config_.lane_borrow_max_speed(), 5.0);
```

### èµ›é¢˜ä¸‰ï¼šç‹­çª„é“è·¯é€šè¡Œ âœ…
**è¦æ±‚**: å®‰å…¨é€šè¿‡ç‹­çª„è·¯æ®µï¼Œé¿å…ç¢°æ’

**å®ç°æ–¹æ¡ˆ**:
- ä¼˜åŒ–è·¯å¾„è¾¹ç•Œè®¡ç®—ï¼Œå‡å°ä¸å¿…è¦çš„å®‰å…¨ç¼“å†²åŒº
- æ”¾å®½å€Ÿé“è§¦å‘æ¡ä»¶ï¼Œæé«˜é€šè¿‡èƒ½åŠ›
- ç¼©çŸ­é•¿æœŸé˜»å¡åˆ¤æ–­æ—¶é—´ï¼Œæé«˜å“åº”é€Ÿåº¦

### èµ›é¢˜å››ï¼šæ–½å·¥åŒºåŸŸé€šè¡Œ âœ…
**è¦æ±‚**: æ£€æµ‹é”¥æ¡¶ï¼Œ30km/hé™é€Ÿç»•è¡Œ

**å®ç°æ–¹æ¡ˆ**:
- æ”¹è¿›æ–½å·¥åŒºåŸŸæ£€æµ‹ç®—æ³•ï¼šæœ€å°‘2ä¸ªé”¥æ¡¶å³å¯è§¦å‘
- æ”¯æŒå¤šç§éšœç¢ç‰©ç±»å‹è¯†åˆ«
- å®ç°30km/hè‡ªåŠ¨é™é€ŸåŠŸèƒ½
- ä¿®æ”¹ `modules/planning/tasks/speed_bounds_decider/speed_bounds_decider.cc`

**å…³é”®ä»£ç **:
```cpp
// æ–½å·¥åŒºåŸŸæ£€æµ‹
if (obstacle_type == perception::PerceptionObstacle::UNKNOWN_UNMOVABLE ||
    obstacle_type == perception::PerceptionObstacle::UNKNOWN ||
    (obstacle->IsStatic() && 
     obstacle->PerceptionBoundingBox().length() < 2.0 &&
     obstacle->PerceptionBoundingBox().width() < 1.0)) {
  cones.push_back(obstacle);
}

// 30km/hé™é€Ÿå®ç°
AINFO << "[ISCC_SpeedBounds] Applying 30km/h construction zone speed limit";
```

### èµ›é¢˜äº”ï¼šè‡ªä¸»æ³Šè½¦åœºæ™¯ âœ…
**è¦æ±‚**: æœç´¢è·ç¦»åœè½¦åœºå…¥å£æœ€è¿‘çš„è½¦ä½ï¼Œ90ç§’å†…å®Œæˆæ³Šè½¦

**å®ç°æ–¹æ¡ˆ**:
- ä¿®æ”¹ `modules/planning/scenarios/valet_parking/valet_parking_scenario.cc`
- å®ç°åŠ¨æ€è½¦ä½æœç´¢ç®—æ³•
- ä¼˜åŒ–è·ç¦»è®¡ç®—ï¼šé€‰æ‹©è·ç¦»å…¥å£æœ€è¿‘çš„å¯ç”¨è½¦ä½
- æ”¹è¿›éšœç¢ç‰©æ£€æµ‹ï¼šåªæ£€æŸ¥é™æ€éšœç¢ç‰©é¿å…è¯¯åˆ¤

**å…³é”®ä»£ç **:
```cpp
// åŠ¨æ€è½¦ä½æœç´¢
if (FindClosestAvailableSpot(const_cast<Frame*>(&frame), &target_spot_id)) {
  context_.target_parking_spot_id = target_spot_id;
  return true;
}

// è·ç¦»è®¡ç®—ä¼˜åŒ–
double distance = std::abs(spot_sl.s() - entrance_s);
if (distance < min_distance) {
  min_distance = distance;
  best_spot_id = spot_id_str;
}
```

## é…ç½®æ–‡ä»¶

### 1. åœæ­¢æ ‡å¿—é…ç½®
`modules/planning/scenarios/stop_sign_unprotected/conf/scenario_conf.pb.txt`
```
max_valid_stop_distance: 2.5  # 2.5ç±³ä¸Šé™
stop_duration_sec: 2.0        # ç¡®è®¤å®‰å…¨æ—¶é—´
```

### 2. å€Ÿé“è·¯å¾„é…ç½®  
`modules/planning/tasks/lane_borrow_path/conf/lane_borrow_path_iscc.pb.txt`
```
lane_borrow_max_speed: 5.0           # 5m/sé€Ÿåº¦é™åˆ¶
static_obstacle_lateral_buffer: 1.0  # 1ç±³æ¨ªå‘è·ç¦»
construction_zone_config {
  min_cones_for_detection: 2         # æœ€å°‘2ä¸ªé”¥æ¡¶
  speed_limit_kph: 30.0              # 30km/hé™é€Ÿ
}
```

### 3. è‡ªåŠ¨æ³Šè½¦é…ç½®
`modules/planning/scenarios/valet_parking/conf/scenario_conf_iscc.pb.txt`
```
parking_spot_range_to_start: 50.0   # 50ç±³æœç´¢èŒƒå›´
max_valid_stop_distance: 2.5        # 2.5ç±³æœ‰æ•ˆè·ç¦»
```

## éƒ¨ç½²å’Œä½¿ç”¨

### 1. ç¼–è¯‘ç³»ç»Ÿ
```bash
# ç¼–è¯‘ä¿®æ”¹çš„æ¨¡å—
bazel build //modules/planning/scenarios/valet_parking:valet_parking_scenario
bazel build //modules/planning/tasks/lane_borrow_path:lane_borrow_path
bazel build //modules/planning/tasks/speed_bounds_decider:speed_bounds_decider
bazel build //modules/planning/traffic_rules/stop_sign:stop_sign
bazel build //modules/planning/traffic_rules/traffic_light:traffic_light
```

### 2. å¯ç”¨ISCCé…ç½®
```bash
# å¤åˆ¶ISCCä¸“ç”¨é…ç½®æ–‡ä»¶
cp modules/planning/tasks/lane_borrow_path/conf/lane_borrow_path_iscc.pb.txt \
   modules/planning/tasks/lane_borrow_path/conf/lane_borrow_path.pb.txt

cp modules/planning/scenarios/valet_parking/conf/scenario_conf_iscc.pb.txt \
   modules/planning/scenarios/valet_parking/conf/scenario_conf.pb.txt
```

### 3. é‡å¯Apollo
```bash
# é‡å¯è§„åˆ’æ¨¡å—
cyber_launch stop modules/planning/launch/planning.launch
cyber_launch start modules/planning/launch/planning.launch
```

### 4. éªŒè¯åŠŸèƒ½
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
python3 test_iscc_2025_complete.py
```

## å…³é”®æ”¹è¿›ç‚¹

### ğŸ¯ ç²¾ç¡®åœè½¦ç®—æ³•
- **åœæ­¢æ ‡å¿—**: 2.25ç±³ç›®æ ‡è·ç¦»ï¼Œç¡®ä¿åœ¨2.0-2.5ç±³èŒƒå›´å†…
- **äº¤é€šç¯**: 1.75ç±³ç›®æ ‡è·ç¦»ï¼Œç¡®ä¿åœ¨1.5-2.0ç±³èŒƒå›´å†…
- **è½¦è¾†è¡¥å¿**: è‡ªåŠ¨è®¡ç®—å‰ç«¯åˆ°åè½´ä¸­å¿ƒè·ç¦»

### ğŸš— ç»•è¡Œä¼˜åŒ–
- **æ¨ªå‘è·ç¦»**: ä¸¥æ ¼ä¿è¯è‡³å°‘1ç±³å®‰å…¨è·ç¦»
- **é€Ÿåº¦æ§åˆ¶**: å€Ÿé“æ—¶ä¸¥æ ¼é™åˆ¶åœ¨5m/sä»¥å†…
- **è§¦å‘æ¡ä»¶**: é™ä½é—¨æ§›ï¼Œæé«˜å“åº”é€Ÿåº¦

### ğŸš§ æ–½å·¥åŒºåŸŸå¤„ç†
- **æ£€æµ‹ç®—æ³•**: æ”¯æŒå¤šç§éšœç¢ç‰©ç±»å‹ï¼Œæœ€å°‘2ä¸ªå³å¯è§¦å‘
- **è‡ªåŠ¨é™é€Ÿ**: æ£€æµ‹åˆ°æ–½å·¥åŒºåŸŸè‡ªåŠ¨åº”ç”¨30km/hé™é€Ÿ
- **åŒºåŸŸæ‰©å±•**: æå‰5ç±³å¼€å§‹é™é€Ÿï¼Œå»¶å10ç±³ç»“æŸ

### ğŸ…¿ï¸ æ™ºèƒ½æ³Šè½¦
- **åŠ¨æ€æœç´¢**: å®æ—¶æœç´¢å¯ç”¨è½¦ä½ï¼Œé€‰æ‹©è·ç¦»æœ€è¿‘çš„
- **éšœç¢ç‰©è¯†åˆ«**: åªæ£€æŸ¥é™æ€éšœç¢ç‰©ï¼Œé¿å…åŠ¨æ€ç‰©ä½“å¹²æ‰°
- **æœç´¢èŒƒå›´**: æ‰©å¤§åˆ°50ç±³ï¼Œæé«˜æ‰¾åˆ°è½¦ä½çš„æ¦‚ç‡

## ç›‘æ§å’Œè°ƒè¯•

### å…³é”®æ—¥å¿—æ ‡è¯†
- `[ISCC_StopSign]` - åœæ­¢æ ‡å¿—ç²¾ç¡®åœè½¦
- `[ISCC_TrafficLight]` - äº¤é€šç¯ç²¾ç¡®åœè½¦  
- `[ISCC_SpeedBounds]` - æ–½å·¥åŒºåŸŸé™é€Ÿ
- `[LaneBorrow]` - å€Ÿé“ç»•è¡ŒåŠŸèƒ½
- `[ValetParking]` - è‡ªåŠ¨æ³Šè½¦åŠŸèƒ½
- `[ConstructionZone]` - æ–½å·¥åŒºåŸŸæ£€æµ‹

### æ€§èƒ½æŒ‡æ ‡
- åœè½¦ç²¾åº¦ï¼šÂ±0.25ç±³è¯¯å·®èŒƒå›´å†…
- ç»•è¡Œè·ç¦»ï¼šâ‰¥1.0ç±³æ¨ªå‘å®‰å…¨è·ç¦»
- ç»•è¡Œé€Ÿåº¦ï¼šâ‰¤5.0m/sé€Ÿåº¦é™åˆ¶
- æ–½å·¥é™é€Ÿï¼š30km/h (8.33m/s)
- æ³Šè½¦æ—¶é—´ï¼š<90ç§’å®Œæˆæœç´¢å’Œæ³Šè½¦

## ç«èµ›å¾—åˆ†ä¼˜åŒ–

### é¿å…æ‰£åˆ†é¡¹
- âœ… åœè½¦è·ç¦»ç²¾ç¡®æ§åˆ¶ï¼Œé¿å…è¶…å‡ºèŒƒå›´æ‰£åˆ†
- âœ… ç»•è¡Œä¿æŒå®‰å…¨è·ç¦»ï¼Œé¿å…å°äº1ç±³æ‰£åˆ†  
- âœ… ä¸¥æ ¼é€Ÿåº¦æ§åˆ¶ï¼Œé¿å…è¶…é€Ÿæ‰£åˆ†
- âœ… æ–½å·¥åŒºåŸŸæ£€æµ‹å’Œé™é€Ÿï¼Œé¿å…é©¶å…¥æ‰£åˆ†
- âœ… åŠæ—¶æ‰¾åˆ°è½¦ä½ï¼Œé¿å…è¶…æ—¶æ‰£åˆ†

### æé«˜å¾—åˆ†é¡¹
- ğŸ† ç²¾ç¡®åœè½¦åœ¨ç›®æ ‡èŒƒå›´ä¸­å¿ƒï¼Œè·å¾—æ»¡åˆ†
- ğŸ† å®‰å…¨ç»•è¡Œä¿æŒå……è¶³è·ç¦»ï¼Œè·å¾—å®‰å…¨åˆ†
- ğŸ† ä¸¥æ ¼éµå®ˆé€Ÿåº¦é™åˆ¶ï¼Œè·å¾—è§„èŒƒåˆ†
- ğŸ† å¿«é€Ÿæ‰¾åˆ°æœ€è¿‘è½¦ä½ï¼Œè·å¾—æ•ˆç‡åˆ†

## æ€»ç»“

æœ¬è§£å†³æ–¹æ¡ˆå®Œæ•´å®ç°äº†ISCC 2025ç«èµ›çš„æ‰€æœ‰5ä¸ªåœºæ™¯è¦æ±‚ï¼š

1. **åœæ­¢æ ‡å¿—åœºæ™¯** - 2.0-2.5ç±³ç²¾ç¡®åœè½¦ âœ…
2. **äº¤é€šç¯åœºæ™¯** - 1.5-2.0ç±³ç²¾ç¡®åœè½¦ + å®‰å…¨ç»•è¡Œ âœ…  
3. **ç‹­çª„é“è·¯é€šè¡Œ** - å®‰å…¨é€šè¿‡ç‹­çª„è·¯æ®µ âœ…
4. **æ–½å·¥åŒºåŸŸé€šè¡Œ** - 30km/hé™é€Ÿç»•è¡Œ âœ…
5. **è‡ªä¸»æ³Šè½¦åœºæ™¯** - æœç´¢æœ€è¿‘è½¦ä½æ³Šè½¦ âœ…

æ‰€æœ‰ä¿®æ”¹éƒ½ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œç¡®ä¿ï¼š
- âœ… ç¼–è¯‘æ— é”™è¯¯
- âœ… åŠŸèƒ½å®Œæ•´å®ç°  
- âœ… å‚æ•°ç²¾ç¡®é…ç½®
- âœ… å®‰å…¨æ€§å¾—åˆ°ä¿è¯
- âœ… ç«èµ›è¦æ±‚å…¨è¦†ç›–

**ç³»ç»Ÿå·²å‡†å¤‡å¥½å‚åŠ ISCC 2025ç«èµ›ï¼** ğŸ†
